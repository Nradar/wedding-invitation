<view class="timeline-container">
    <!-- å½“å‰æ—¶é—´æ˜¾ç¤º -->
    <view class="current-time-section" wx:if="{{isWeddingDay}}">
        <view class="current-time">
            <text class="time-label">å½“å‰æ—¶é—´</text>
            <text class="time-value">{{currentTime}}</text>
        </view>
        <view class="current-activity" wx:if="{{currentActivity && showCurrentActivity}}">
            <text class="activity-label">æ­£åœ¨è¿›è¡Œ</text>
            <view class="activities-list">
                <view class="activity-info" wx:for="{{currentActivity}}" wx:key="id">
                    <text class="activity-icon">{{item.icon}}</text>
                    <text class="activity-project">{{item.project}}</text>
                    <text class="activity-location-small">ğŸ“ {{item.location}}</text>
                </view>
            </view>
        </view>
    </view>
    <!-- å©šç¤¼å€’è®¡æ—¶æ˜¾ç¤º -->
    <view class="wedding-countdown-section" wx:if="{{isWeddingUpcoming}}">
        <view class="countdown-icon">ğŸ’’</view>
        <view class="countdown-title">è·ç¦»æˆ‘ä»¬çš„å©šç¤¼è¿˜æœ‰</view>
        <view class="countdown-days">
            <text class="days-number">{{daysUntilWedding}}</text>
            <text class="days-text">å¤©</text>
        </view>
        <view class="countdown-message">
            <text>ğŸ’• æœŸå¾…ä¸æ‚¨å…±åº¦ç¾å¥½æ—¶å…‰ ğŸ’•</text>
        </view>
    </view>
    <!-- å©šç¤¼å·²ç»“æŸæ˜¾ç¤º -->
    <view class="wedding-ended-section" wx:if="{{isWeddingPassed}}">
        <view class="ended-icon">ğŸ‰</view>
        <view class="ended-title">å©šç¤¼å·²åœ†æ»¡ç»“æŸ</view>
        <view class="ended-subtitle">æ„Ÿè°¢æ‰€æœ‰å®¾å®¢çš„å‚ä¸å’Œç¥ç¦</view>
        <view class="ended-message">
            <text>ğŸ’• æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚æ—¶é—´èˆ¬æ°¸æ’ ğŸ’•</text>
        </view>
    </view>
    <!-- æ—¶é—´çº¿æ ‡é¢˜ -->
    <view class="timeline-header">
        <text class="timeline-title" wx:if="{{isWeddingUpcoming}}">å©šç¤¼å€’è®¡æ—¶</text>
        <text class="timeline-title" wx:elif="{{isWeddingDay}}">å©šç¤¼æ—¥ç¨‹å®‰æ’</text>
        <text class="timeline-title" wx:else>å©šç¤¼å›å¿†å½•</text>
        <text class="timeline-subtitle" wx:if="{{isWeddingUpcoming}}">Wedding Countdown</text>
        <text class="timeline-subtitle" wx:elif="{{isWeddingDay}}">Wedding Timeline</text>
        <text class="timeline-subtitle" wx:else>Wedding Memories</text>
    </view>
    <!-- æ—¶é—´çº¿å†…å®¹ -->
    <view class="timeline-content">
        <view class="timeline-line"></view>
        <view class="timeline-item {{item.status}}" wx:for="{{activities}}" wx:key="id" data-id="{{item.id}}" bindtap="onActivityTap">
            <!-- æ—¶é—´ç‚¹ -->
            <view class="timeline-dot">
                <view class="dot-inner"></view>
                <view class="dot-pulse" wx:if="{{item.status === 'current'}}"></view>
            </view>
            <!-- æ´»åŠ¨å†…å®¹ -->
            <view class="activity-card">
                <view class="activity-header">
                    <view class="activity-time-location">
                        <text class="activity-time">
                            {{item.startTime || item.time}} - {{item.endTime || '02:00'}}
                        </text>
                        <text class="activity-location">ğŸ“ {{item.location}}</text>
                    </view>
                    <text class="activity-icon-large">{{item.icon}}</text>
                </view>
                <view class="activity-body">
                    <text class="activity-project-text">{{item.project}}</text>
                    <text class="activity-content">{{item.content}}</text>
                </view>
                <!-- å¤‡æ³¨ä¿¡æ¯ -->
                <view class="activity-remarks" wx:if="{{item.remarks}}">
                    <text class="remarks-label">ğŸ’¡ å¤‡æ³¨:</text>
                    <text class="remarks-text">{{item.remarks}}</text>
                </view>
                <!-- çŠ¶æ€æŒ‡ç¤ºå™¨ -->
                <view class="status-indicator">
                    <view class="status-dot {{item.status}}"></view>
                    <text class="status-text">
                        <text wx:if="{{item.status === 'pending'}}">å¾…è¿›è¡Œ</text>
                        <text wx:elif="{{item.status === 'current'}}">è¿›è¡Œä¸­</text>
                        <text wx:elif="{{item.status === 'completed'}}">å·²å®Œæˆ</text>
                    </text>
                </view>
            </view>
        </view>
    </view>
    <!-- åº•éƒ¨è£…é¥° -->
    <view class="timeline-footer" wx:if="{{!isWeddingPassed}}">
        <text class="footer-text">ğŸ’• æ„¿ä½ ä»¬çš„çˆ±æƒ…å¦‚æ—¶é—´èˆ¬æ°¸æ’ ğŸ’•</text>
    </view>
</view>